<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Tv show list</title>
	</head>
	<body>
		<div id="app" class="h-screen">
            <div class="h-12 bg-black">
                <div class="flex justify-start ml-10 items-center h-full">
                    <p class="text-3xl text-white">
                        TV SHOW LIST
                    </p>
                </div>
            </div>
            <div class="flex flex-grow p-5 w-full">
                <div class="grid grid-cols-5 gap-4 w-full">
                    <div v-for="show in shows" class="w-full h-full">
                        <div class="flex justify-start h-full w-full">
                            <div class="h-full w-1/3 flex items-center">
                                <img v-bind:src="show.image_thumbnail_path" class="h-32 w-32 rounded-full" alt="">                                
                            </div>
                            <div class="h-full w-2/3 p-1">
                                <div class="flex justify-center">
                                    <p class="text-md font-bold">
                                        {{ show.name }}
                                    </p>
                                </div>
                                
                            </div>
                        </div>
                        
                        
                    </div>
                </div>
            </div>
		</div>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script src="https://unpkg.com/vue@3"></script>
        <script src="https://cdn.tailwindcss.com"></script>
		<script>
			Vue.createApp({
				data() {
					return {
                        apiURL: "https://www.episodate.com/api/most-popular?page=",
                        shows: [],
					};
				},

				created: function () {
                    this.fetchTvShows(1);
                    this.fetchTvShows(2);
				},

				watch: {
                    
				},
				methods: {
                    fetchTvShows: async function(page){
                        try {
                            const response = await axios.get(this.apiURL + page);
                            //console.log(response.data);
                            this.shows = this.shows.concat(response.data.tv_shows);
                        }
                        catch (err){
                            console.warn(err);
                        }
                    }
				},
			}).mount("#app");
		</script>
	</body>
</html>
